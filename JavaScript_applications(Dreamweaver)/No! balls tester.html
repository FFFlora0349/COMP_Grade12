<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Balls</title>
</head>

<body>
	<p>How many do you take?</p>         
	<p id="intro"></p>
	<input type="number" id="awayhuman">
	<button onClick="subtraction()">Take Out</button>     
	<p id="demo"></p>
	<p id="awaycomputer"></p>
	<p id="leftwith"></p>
	
	
	<script>//PROBLEM: if input is beyond the range, computer then takes out balls of the number of the wrong input automatically while it tells you to input again. (input mistake but program doesn't stop)
		
		var total = 50;//(Math.floor(Math.random() * 3 + 6)) * 10;//60，70，80
		// tester document.getElementById("demo").innerHTML = total;
		document.getElementById("intro").innerHTML = ('There are ' + total + ' balls in the basket, and the WINNER is whoever takes the LAST ball (you or computer). You can take between 1 to 5 balls each time. The first turn is yours.  Try not to input numbers beyond the range, coz there\'s still bugs unfixed about the wrong input situation T_T...Otherwise you\'d have to refresh and start again. ');
		
		var ah = 0, ac = 0;
		const input = document.querySelector('#awayhuman');
		input.focus();
		
		function subtraction(){
			ah = input.value;
			total -= ah;
			// && total > 4 
			if ( (ah > 5 || ah < 1)){
				document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 5.');
				document.getElementById("leftwith").innerHTML = ('');
				input.value = ''; 
				input.focus();
				
			} /*else if (total<4){
				document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 5.');
				document.getElementById("leftwith").innerHTML = ('');
				input.value = ''; 
				input.focus();
			}*/ else {
				if (total > 4) {///normal taking
					ac = Math.floor(Math.random() * 5 + 1);//取1到5
					total -= ac;
					document.getElementById("awaycomputer").innerHTML = ('The computer took ' + ac + ' balls.');
					document.getElementById("leftwith").innerHTML = ('Now there are ' + total + ' balls left.');
					input.value = '';
					//ah = parseInt("");
					input.focus();
				}
				else if (total == 4) {

					if ( ah > 4 || ah < 1 ){
					document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 4.');
					document.getElementById("leftwith").innerHTML = ('');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					} else {
					ac = Math.floor(Math.random() * 4 + 1);//取1到4
					total -= ac;
					document.getElementById("awaycomputer").innerHTML = ('The computer took ' + ac + ' balls.');
					document.getElementById("leftwith").innerHTML = ('Now there are ' + total + ' balls left.');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					}
					
				} 
				else if ( total == 3) {

					if ( ah > 3 || ah < 1 ){
					document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 3.');
					document.getElementById("leftwith").innerHTML = ('');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					} else {
					ac = Math.floor(Math.random() * 3 + 1);//取1到3
					total -= ac;
					document.getElementById("awaycomputer").innerHTML = ('The computer took ' + ac + ' balls.');
					document.getElementById("leftwith").innerHTML = ('Now there are ' + total + ' balls left.');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					}

					
				} 
				else if ( total == 2) {

					if ( ah > 2 || ah < 1 ){
					document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 2.');
					document.getElementById("leftwith").innerHTML = ('');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					} else{
						ac = Math.floor(Math.random() * 2 + 1);//取1到2
					total -= ac;
					document.getElementById("awaycomputer").innerHTML = ('The computer took ' + ac + ' balls.');
					document.getElementById("leftwith").innerHTML = ('Now there are ' + total + ' balls left.');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					}

					
				} 
				else if ( total == 1) {
					document.getElementById("awaycomputer").innerHTML = ('Computer wins.');
					document.getElementById("leftwith").innerHTML = ('');
				} 
				else if ( total == 0) {
					document.getElementById("awaycomputer").innerHTML = ('YOU win.');
					document.getElementById("leftwith").innerHTML = ('');
				} 	
				else {

				}
			}
		}
		/*var total = 30;//(Math.floor(Math.random() * 3 + 6)) * 10;//60，70，80
		document.getElementById("intro").innerHTML = ('There are ' + total + ' balls in the basket, and the WINNER is whoever takes the LAST ball (you or computer). You can take between 1 to 5 balls each time. The first turn is yours.  Try not to input numbers beyond the range, coz there\'s still bugs unfixed about the while loop T_T...Otherwise you\'d have to refresh and start again. ');
		var ah = 0, ac = 0;
		const input = document.querySelector('#awayhuman');
		input.focus();
		function subtraction(){
			ah = input.value;
			total -= ah;
			
			if (total<5){
				if ( total === 0){ 
					document.getElementById("awaycomputer").innerHTML = ('YOU win.');
					document.getElementById("leftwith").innerHTML = ('');
				} else if ( total === 1) {
					document.getElementById("awaycomputer").innerHTML = ('Computer wins.');
					document.getElementById("leftwith").innerHTML = ('');
				} else if ( total === 2 ) {
					if (ah > 2 || ah < 1){
					document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 2.');
					document.getElementById("leftwith").innerHTML = ('');
					} else {
					ac = Math.floor(Math.random() * 2 + 1);//取1到2
					total -= ac;
					document.getElementById("awaycomputer").innerHTML = ('The computer took ' + ac + ' balls.');
					document.getElementById("leftwith").innerHTML = ('Now there are ' + total + ' balls left.');
					input.value = '';
					//ah = parseInt("");
					input.focus();
					}
				} else if ( total === 3) {
					document.getElementById("awaycomputer").innerHTML = ('1-3');
					//document.getElementById("leftwith").innerHTML = ('');
				} else if ( total === 4) {
					document.getElementById("awaycomputer").innerHTML = ('1-4');
					//document.getElementById("leftwith").innerHTML = ('');
				}
				
			}
			/*
			if ( total === 0){ 
				document.getElementById("awaycomputer").innerHTML = ('YOU win.');
				document.getElementById("leftwith").innerHTML = ('');
			} else if ( total === 1) {
				document.getElementById("awaycomputer").innerHTML = ('Computer wins.');
				ocument.getElementById("leftwith").innerHTML = ('');
			} else if ( total === 2 ){
				if (ah > 2 || ah < 1){
					document.getElementById("awaycomputer").innerHTML = ('Please input a number within 1 ~ 2.');
					document.getElementById("leftwith").innerHTML = ('');
				} else {
					ac = Math.floor(Math.random() * 2 + 1);//取1到2
					total -= ac;
					document.getElementById("awaycomputer").innerHTML = ('The computer took ' + ac + ' balls.');
					document.getElementById("leftwith").innerHTML = ('Now there are ' + total + ' balls left.');
					input.value = '';
					//ah = parseInt("");
					input.focus();
				}
			}*/
	</script>
</body>
</html>
